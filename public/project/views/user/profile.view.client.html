<nav class="navbar navbar-inverse navbar-fixed-top navbar-collapse ">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Brand</a>
    </div>


    <div class="collapse navbar-collapse" id="navbar-collapse-1">
        <ul class="nav navbar-nav">
            <li><a href="#/user/{{model.currentUser._id}}/searchMovies">Home</a></li>
            <li><a href="#/user/{{model.currentUser._id}}/searchMovies">Search Movies</a></li>
        </ul>
        <div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
        <ul class="nav navbar-nav navbar-right">
            <li><a href="#/logout">Logout</a></li>
            <li>
                <a href="#/user/{{model.userId}}">Profile</a>
            </li>
        </ul>
    </div><!-- /.navbar-collapse -->




    <!--<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
            <li><a class="navbar-brand" href="#/user/{{model.currentUser._id}}/searchMovies">Home</a></li>
            <li><a href="#/user/{{model.currentUser._id}}/searchMovies" class="navbar-brand">Search Movies</a></li>-->
            <!--<div class="col-xs-3">-->
                <!--<form class="navbar-form pull-left" role="search">
                <div class="input-group">
                    <input ng-model="model.usersearch" type="text" class="form-control" placeholder="Search Users" name="q">
                    <div class="input-group-btn">
                        <a class="btn btn-default" ng-click="model.searchUsers(model.usersearch)" type="submit">
                            <i class="glyphicon glyphicon-search"></i>
                        </a>
                    </div>
                </div>
            </form>-->
            <!--</div>-->


            <!--<li><a href="#/logout" class="navbar-brand">
                <span class="glyphicon glyphicon-off"></span>
            </a></li>

            <li><a href="#/user/{{model.currentUser._id}}" class="navbar-brand">
                Profile
            </a></li>
        </ul>-->


            <!--<div class="col-xs-10">
            <a class="navbar-brand">Hello, {{model.currentUser.username}}</a></li>
            </div>-->

            <!--<div class="col-sm-4 dropdown">
                <a class="btn btn-primary dropdown-toggle " id="tr-profile-btn" data-toggle="dropdown">Profile
                    <span class="caret"></span>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="#/logout">Logout</a></li>
                </ul>
            </div>-->

</nav>

<div ng-show="model.error" class="alert alert-danger" >
    {{model.error}}
</div>

<div class="alert alert-success" ng-show="model.message">
    {{model.message}}
</div>
<div class="container-fluid row">
    <div class="col-xs-5">
    <!--<div class="navbar navbar-left navbar-default col-sm-3">-->
        <a class="btn btn-primary" ng-if="model.user.role=='critic'">Critic</a>
        <ul class="navbar navbar-inverse list-group tr-profile-sidebar">
            <li ng-class="{active : activeMenu == 'Profile'}"  class="list-group-item borderless">
                <a ng-click="model.setActive('Profile')">Profile</a>
            </li>
            <li ng-class="{active : activeMenu == 'Movies'}" class="list-group-item borderless">
                <a ng-click="model.setActive('Movies')">Movies</a>
            </li>
            <li ng-class="{active : activeMenu == 'Followers'}" class="list-group-item borderless">
                <a ng-click="model.setActive('Followers')">Followers</a>
            </li>
            <li ng-class="{active : activeMenu == 'Following'}" class="list-group-item borderless">
                <a ng-click="model.setActive('Following')">Following</a>
            </li>
        </ul>
    </div>
    <!--</div>-->

    <div class="col-xs-7" ng-show="model.activeMenu == 'Profile'">
        <div ng-hide="model.currentUser._id==model.user._id">
            <h4>Username: {{model.user.username}}</h4>
            <br>
            <h4>FirstName: {{model.user.firstName}}</h4>
            <br>
            <h4>LastName: {{model.user.lastName}}</h4>

        </div>

    <form>
        <div class="form-group" ng-hide="model.currentUser._id!=model.user._id">
            <label for="username">Username</label>
            <input ng-model="model.currentUser.username"
                   type="text"
                   class="form-control"
                   placeholder="username"
                   id="username">

            <label for="firstname">First Name</label>
            <input ng-model="model.currentUser.firstName"
                   type="text"
                   class="form-control"
                   placeholder="First name"
                   id="firstname">

            <label for="lastname">Last Name</label>
            <input ng-model="model.currentUser.lastName"
                   type="text"
                   class="form-control"
                   placeholder="Last name"
                   id="lastname">

            <a ng-click="model.update(model.currentUser)"
               class="btn btn-primary btn-block">
                Update
            </a>

            <a href="#/logout" class="btn btn-danger btn-block">
                Logout
            </a>

            <!--<a ng-click="model.findUsers(model.currentUser._id)"
               class="btn btn-primary btn-block tr-upload-button">
                Find All Users
            </a>-->

            <div>
                <ul>
                    <li class="list-group"  ng-repeat="usr in model.searchedusers">
                        <div ng-if="usr.username!=model.user.username">
                        <i>{{usr.username}}</i>
                        <span>
                            <a ng-if="model.alreadyfollowing" class="btn btn-primary" ng-click="model.follow(usr)">Follow</a>
                        </span>
                        </div>
                    </li>
                </ul>
            </div>

        </div>
    </form>
    </div>

    <div class="col-xs-7" ng-show="model.activeMenu == 'Movies'">
            <div class="col-md-4 col-sm-6 col-xs-12" ng-repeat="likedMovie in model.movies">
                <div class="thumbnail">
                    <a href="#/user/{{model.currentUser._id}}/movie/{{likedMovie.id}}">
                <img ng-src="https://image.tmdb.org/t/p/w185/{{likedMovie.poster_path}}" alt="src">
                    <h4 class="card-title">{{likedMovie.title}}</h4>
                    </a>
                </div>
                </div>
            </div>

    <div class="col-xs-7" ng-show="model.activeMenu == 'Followers'">
        <h2>Followers</h2>
        <br>
        <br>
        <i>{{model.currentUser.followers.length}} followers</i>
        <ul class="list-group">
            <li class="list-group-item" ng-repeat="follower in model.followers">
                <a href="#/user/{{follower._id}}">{{follower.username}}</a>
            </li>
        </ul>
    </div>

    <div class="col-xs-7" ng-show="model.activeMenu == 'Following'">
        <h2>Following</h2>
        <br>
        <br>
        <i>{{model.currentUser.following.length}} following</i>
        <ul class="list-group">
            <li class="list-group-item" ng-repeat="following in model.followingusers">
                <a href="#/user/{{following._id}}">{{following.username}}</a>
            </li>
        </ul>
    </div>
</div>

    <nav class="navbar navbar-inverse navbar-fixed-bottom">
        <div class="container-fluid">
            <div class="navbar-footer navbar-text pull-right">
                <a>
                    <span class="glyphicon glyphicon-user"></span>
                </a>
            </div>
        </div>
    </nav>

</div>
